!function(t,n){function i(n,i){this.$element=n,this.obj=i,this.defaults={flyTime:500,fireRound:300,fireNum:30,fireTime:500},this.options=t.extend({},this.defaults,i)}function e(t,n,i,e,o){this.init(t,n,i,e,o)}function o(){var t=parseInt(256*Math.random()),n=parseInt(256*Math.random()),i=parseInt(256*Math.random()),e="RGB("+t+","+n+","+i+")";return e}i.prototype={init:function(){var t=this;this.$element.mousedown(function(i){i=i||n.event;var e=i.offsetX,o=i.offsetY;t.fly(e,o)})},fly:function(n,i){var e=this,a=t('<div class="spark"></div>');a.css("background",o()),this.$element.append(a),a.animate({left:n,top:i},e.flyTime,function(){t(this).remove(),e.boom(e.$element,n,i)})},boom:function(t,n,i){for(var o=0;o<this.options.fireNum;o++)new e(t,n,i,this.options.fireRound,this.options.fireTime)}},e.prototype={init:function(n,i,e,a,s){var f=t('<div class="fire"></div>');f.css({left:i,top:e,background:o()}),n.append(f);var r=Math.random(),m=Math.random(),u=Math.random()*a,h=Math.sqrt(a*a-u*u);r>.5&&m>.5?f.animate({left:i+u,top:e-h},s,function(){t(this).remove()}):r>.5&&.5>m?f.animate({left:i+u,top:e+h},s,function(){t(this).remove()}):.5>r&&m>.5?f.animate({left:i-u,top:e-h},s,function(){t(this).remove()}):f.animate({left:i-u,top:e+h},s,function(){t(this).remove()})}},t.fn.air=function(t){new i(this,t).init()}}(jQuery,window,document);